"use strict";var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),__name=(e,t)=>__defProp(e,"name",{value:t,configurable:!0}),__export=(e,t)=>{for(var r in t)__defProp(e,r,{get:t[r],enumerable:!0})},__copyProps=(e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of __getOwnPropNames(t))__hasOwnProp.call(e,l)||l===r||__defProp(e,l,{get:()=>t[l],enumerable:!(o=__getOwnPropDesc(t,l))||o.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__async=(e,t,r)=>new Promise((o,l)=>{var a=e=>{try{s(r.next(e))}catch(e){l(e)}},n=e=>{try{s(r.throw(e))}catch(e){l(e)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(a,n);s((r=r.apply(e,t)).next())}),stream_exports={};__export(stream_exports,{getStream:()=>getStream});var getStream=__name(function(e){return __async(this,arguments,function*({link:e,providerContext:t}){var r,o,l,a,n,s,p,i,d,_,u,c;const{axios:m,cheerio:v}=t,h={"sec-ch-ua":'"Not_A Brand";v="8", "Chromium";v="120", "Microsoft Edge";v="120"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',Referer:"https://multimovies.online/","Sec-Fetch-User":"?1","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0"};try{const t=(yield m.get(e,{headers:h})).data,g=v.load(t),b=[],w=g("#player-option-1").attr("data-post"),O=g("#player-option-1").attr("data-nume"),S=g("#player-option-1").attr("data-type"),j=e.split("/").slice(0,3).join("/"),x=new FormData;x.append("action","doo_player_ajax"),x.append("post",w||""),x.append("nume",O||""),x.append("type",S||"");const N=yield fetch(`${j}/wp-admin/admin-ajax.php`,{headers:h,body:x,method:"POST"}),D=yield N.json();let E=(null==(o=null==(r=null==D?void 0:D.embed_url)?void 0:r.match(/<iframe[^>]+src="([^"]+)"[^>]*>/i))?void 0:o[1])||(null==D?void 0:D.embed_url);if(!E.includes("multimovies")){let e=E.split("/").slice(0,3).join("/");const t=yield m.head(e,{headers:h});(null==(l=null==t?void 0:t.request)?void 0:l.responseURL)&&(e=null==(n=null==(a=t.request)?void 0:a.responseURL)?void 0:n.split("/").slice(0,3).join("/")),(null==(s=null==t?void 0:t.request)?void 0:s.responseURL)||(e=null==(p=(yield m.head(e,{headers:h,maxRedirects:0,validateStatus:__name(e=>e>=200&&e<400,"validateStatus")})).headers)?void 0:p.location);const r=E.split("/").pop(),o=new FormData;o.append("sid",r);const u=yield fetch(`${e}/embedhelper.php`,{headers:h,body:o,method:"POST"}),c=yield u.json(),v=(null==(i=null==c?void 0:c.siteUrls)?void 0:i.smwh)+((null==(d=JSON.parse(atob(null==c?void 0:c.mresult)))?void 0:d.smwh)||(null==(_=null==c?void 0:c.mresult)?void 0:_.smwh));v&&(E=v)}const R=(yield m.get(E,{headers:__spreadProps(__spreadValues({},h),{Referer:e})})).data;var f=/eval\(function\((.*?)\)\{.*?return p\}.*?\('(.*?)'\.split/.exec(R);let U="";if(f){var y=f[2];U=null==(u=y.split("',36,"))?void 0:u[0].trim();let e=36,t=y.split("',36,")[1].slice(2).split("|").length,r=y.split("',36,")[1].slice(2).split("|");for(;t--;)if(r[t]){var P=new RegExp("\\b"+t.toString(e)+"\\b","g");U=U.replace(P,r[t])}}const M=null==(c=null==U?void 0:U.match(/https?:\/\/[^"]+?\.m3u8[^"]*/))?void 0:c[0],k=[],A=null==U?void 0:U.match(/https:\/\/[^\s"]+\.vtt/g);return(null==A?void 0:A.length)&&A.forEach(e=>{const t=e.match(/_([a-zA-Z]{3})\.vtt$/)[1];k.push({language:t,uri:e,type:"text/vtt",title:t})}),M&&b.push({server:"Multi",link:M.replace(/&i=\d+,'\.4&/,"&i=0.4&"),type:"m3u8",subtitles:[]}),b}catch(e){return[]}})},"getStream");exports.getStream=getStream;