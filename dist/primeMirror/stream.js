"use strict";var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__name=(e,r)=>__defProp(e,"name",{value:r,configurable:!0}),__export=(e,r)=>{for(var t in r)__defProp(e,t,{get:r[t],enumerable:!0})},__copyProps=(e,r,t,o)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let n of __getOwnPropNames(r))__hasOwnProp.call(e,n)||n===t||__defProp(e,n,{get:()=>r[n],enumerable:!(o=__getOwnPropDesc(r,n))||o.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__async=(e,r,t)=>new Promise((o,n)=>{var a=e=>{try{_(t.next(e))}catch(e){n(e)}},p=e=>{try{_(t.throw(e))}catch(e){n(e)}},_=e=>e.done?o(e.value):Promise.resolve(e.value).then(a,p);_((t=t.apply(e,r)).next())}),stream_exports={};__export(stream_exports,{getStream:()=>getStream});var getStream=__name(e=>__async(null,[e],function*({link:e,providerContext:r}){const{getBaseUrl:t}=r;try{let r="primeMirror";const o=yield t("nfMirror"),n=`https://netmirror.8man.dev/api/net-proxy?url=${o}${"netflixMirror"===r?"/mobile/playlist.php?id=":"/pv/playlist.php?id="}${e}&t=${Math.round((new Date).getTime()/1e3)}`,a=yield fetch(n,{credentials:"omit"}),p=yield a.json(),_=null==p?void 0:p[0],l=[];return null==_||_.sources.forEach(e=>{var r;l.push({server:e.label,link:(null==(r=e.file)?void 0:r.startsWith("http"))?e.file:`${o}${e.file}`,type:"m3u8",headers:{Referer:o,origin:o,Cookie:"hd=on"}})}),l}catch(e){return[]}}),"getStream");exports.getStream=getStream;