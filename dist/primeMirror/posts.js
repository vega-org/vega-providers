"use strict";var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__name=(e,t)=>__defProp(e,"name",{value:t,configurable:!0}),__export=(e,t)=>{for(var r in t)__defProp(e,r,{get:t[r],enumerable:!0})},__copyProps=(e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of __getOwnPropNames(t))__hasOwnProp.call(e,s)||s===r||__defProp(e,s,{get:()=>t[s],enumerable:!(o=__getOwnPropDesc(t,s))||o.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__async=(e,t,r)=>new Promise((o,s)=>{var n=e=>{try{a(r.next(e))}catch(e){s(e)}},i=e=>{try{a(r.throw(e))}catch(e){s(e)}},a=e=>e.done?o(e.value):Promise.resolve(e.value).then(n,i);a((r=r.apply(e,t)).next())}),posts_exports={};__export(posts_exports,{getPosts:()=>getPosts,getSearchPosts:()=>getSearchPosts});var getPosts=__name(function(e){return __async(this,arguments,function*({filter:e,page:t,providerValue:r,signal:o,providerContext:s}){try{const{getBaseUrl:n,cheerio:i}=s,a=yield n("nfMirror"),p=[];if(t>1)return[];const l=`https://netmirror.8man.dev/api/net-proxy?${"primeMirror"===r?"isPrime=true":"isPrime=false"}&url=${a+e}`,c=yield fetch(l,{signal:o,method:"GET",credentials:"omit"}),_=yield c.text(),d=i.load(_);return d("a.post-data").map((e,t)=>{const o=d(t).attr("data-post"),s=d(t).find("img").attr("data-src")||"";o&&p.push({title:"",link:a+""+("netflixMirror"===r?"/post.php?id=":"/pv/post.php?id=")+o+"&t="+Math.round((new Date).getTime()/1e3),image:s})}),p}catch(e){return[]}})},"getPosts"),getSearchPosts=__name(function(e){return __async(this,arguments,function*({searchQuery:e,page:t,providerValue:r,signal:o,providerContext:s}){var n;const{getBaseUrl:i}=s;try{if(t>1)return[];const s=[],a=yield i("nfMirror"),p=`https://netmirror.8man.dev/api/net-proxy?${"primeMirror"===r?"isPrime=true":"isPrime=false"}&url=${a}${"netflixMirror"===r?"":"/pv"}/search.php?s=${encodeURI(e)}`,l=yield fetch(p,{signal:o,method:"GET",credentials:"omit"}),c=yield l.json();return null==(n=null==c?void 0:c.searchResult)||n.forEach(e=>{const t=(null==e?void 0:e.t)||"",o=null==e?void 0:e.id,n="netflixMirror"===r?`https://imgcdn.media/poster/v/${o}.jpg`:`https://imgcdn.media/pv/341/${o}.jpg`;o&&s.push({title:t,link:a+""+("netflixMirror"===r?"/mobile/post.php?id=":"/mobile/pv/post.php?id=")+o+"&t="+Math.round((new Date).getTime()/1e3),image:n})}),s}catch(e){return[]}})},"getSearchPosts");exports.getPosts=getPosts,exports.getSearchPosts=getSearchPosts;