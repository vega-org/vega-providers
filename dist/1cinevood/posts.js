"use strict";var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__name=(e,t)=>__defProp(e,"name",{value:t,configurable:!0}),__export=(e,t)=>{for(var r in t)__defProp(e,r,{get:t[r],enumerable:!0})},__copyProps=(e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of __getOwnPropNames(t))__hasOwnProp.call(e,s)||s===r||__defProp(e,s,{get:()=>t[s],enumerable:!(o=__getOwnPropDesc(t,s))||o.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__async=(e,t,r)=>new Promise((o,s)=>{var a=e=>{try{i(r.next(e))}catch(e){s(e)}},n=e=>{try{i(r.throw(e))}catch(e){s(e)}},i=e=>e.done?o(e.value):Promise.resolve(e.value).then(a,n);i((r=r.apply(e,t)).next())}),posts_exports={};__export(posts_exports,{getPosts:()=>getPosts,getSearchPosts:()=>getSearchPosts});var defaultHeaders={Referer:"https://www.google.com","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","Accept-Language":"en-US,en;q=0.9",Pragma:"no-cache","Cache-Control":"no-cache"};function getPosts(e){return __async(this,arguments,function*({filter:e,page:t=1,signal:r,providerContext:o}){return fetchPosts({filter:e,page:t,query:"",signal:r,providerContext:o})})}function getSearchPosts(e){return __async(this,arguments,function*({searchQuery:e,page:t=1,signal:r,providerContext:o}){return fetchPosts({filter:"",page:t,query:e,signal:r,providerContext:o})})}function fetchPosts(e){return __async(this,arguments,function*({filter:e,query:t,page:r=1,signal:o,providerContext:s}){try{const a=yield s.getBaseUrl("1cinevood");let n;n=t&&t.trim()?`${a}/?s=${encodeURIComponent(t)}${r>1?`&paged=${r}`:""}`:e?e.startsWith("/")?`${a}${e.replace(/\/$/,"")}${r>1?`/page/${r}`:""}`:`${a}/${e}${r>1?`/page/${r}`:""}`:`${a}${r>1?`/page/${r}`:""}`;const{axios:i,cheerio:c}=s,p=yield i.get(n,{headers:defaultHeaders,signal:o}),l=c.load(p.data||""),_=__name(e=>(null==e?void 0:e.startsWith("http"))?e:new URL(e,n).href,"resolveUrl"),g=new Set,f=[],h=[".pstr_box","article",".result-item",".post",".item",".thumbnail",".latest-movies",".movie-item"].join(",");return l(h).each((e,t)=>{var r;const o=l(t);let s=o.find("a[href]").first().attr("href")||"";if(!s)return;if(s=_(s),g.has(s))return;let a=o.find("h2").first().text().trim()||(null==(r=o.find("a[title]").first().attr("title"))?void 0:r.trim())||o.text().trim();if(a=a.replace(/\[.*?\]/g,"").replace(/\(.+?\)/g,"").replace(/\s{2,}/g," ").trim(),!a)return;const n=o.find("img").first().attr("src")||o.find("img").first().attr("data-src")||o.find("img").first().attr("data-original")||"",i=n?_(n):"";g.add(s),f.push({title:a,link:s,image:i})}),f.slice(0,100)}catch(e){return[]}})}__name(getPosts,"getPosts"),__name(getSearchPosts,"getSearchPosts"),__name(fetchPosts,"fetchPosts"),exports.getPosts=getPosts,exports.getSearchPosts=getSearchPosts;