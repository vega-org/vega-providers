"use strict";var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__name=(e,t)=>__defProp(e,"name",{value:t,configurable:!0}),__export=(e,t)=>{for(var r in t)__defProp(e,r,{get:t[r],enumerable:!0})},__copyProps=(e,t,r,l)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of __getOwnPropNames(t))__hasOwnProp.call(e,n)||n===r||__defProp(e,n,{get:()=>t[n],enumerable:!(l=__getOwnPropDesc(t,n))||l.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__async=(e,t,r)=>new Promise((l,n)=>{var o=e=>{try{i(r.next(e))}catch(e){n(e)}},a=e=>{try{i(r.throw(e))}catch(e){n(e)}},i=e=>e.done?l(e.value):Promise.resolve(e.value).then(o,a);i((r=r.apply(e,t)).next())}),stream_exports={};__export(stream_exports,{getStream:()=>getStream});var hubcloudDecode=__name(function(e){return void 0===e?"":atob(e.toString())},"hubcloudDecode");function hubcloudExtractor(e,t,r,l,n){return __async(this,null,function*(){var o,a,i,s,c,d;try{n.Cookie="ext_name=ojplmecpdpgccookcobabopnaifgidhf; xla=s4t; cf_clearance=woQrFGXtLfmEMBEiGUsVHrUBMT8s3cmguIzmMjmvpkg-1770053679-1.2.1.1-xBrQdciOJsweUF6F2T_OtH6jmyanN_TduQ0yslc_XqjU6RcHSxI7.YOKv6ry7oYo64868HYoULnVyww536H2eVI3R2e4wKzsky6abjPdfQPxqpUaXjxfJ02o6jl3_Vkwr4uiaU7Wy596Vdst3y78HXvVmKdIohhtPvp.vZ9_L7wvWdce0GRixjh_6JiqWmWMws46hwEt3hboaS1e1e4EoWCvj5b0M_jVwvSxBOAW5emFzvT3QrnRh4nyYmKDERnY";const u=e.split("/").slice(0,3).join("/"),p=[],h=(yield r(`${e}`,{headers:n,signal:t})).data,v=l.load(h),m=h.match(/var\s+url\s*=\s*'([^']+)';/)||[];let _=hubcloudDecode(null==(a=null==(o=m[1])?void 0:o.split("r="))?void 0:a[1])||m[1]||v(".fa-file-download.fa-lg").parent().attr("href")||e;(null==_?void 0:_.startsWith("/"))&&(_=`${u}${_}`);const f=yield fetch(_,{headers:n,signal:t,redirect:"follow"}),g=l.load(yield f.text()),y=g(".btn-success.btn-lg.h6,.btn-danger,.btn-secondary");for(const e of y){let r=g(e).attr("href")||"";switch(!0){case null==r?void 0:r.includes("pixeld"):if(!(null==r?void 0:r.includes("api"))){const e=r.split("/").pop(),t=r.split("/").slice(0,-2).join("/");r=`${t}/api/file/${e}?download`}p.push({server:"Pixeldrain",link:r,type:"mkv"});break;case(null==r?void 0:r.includes(".dev"))&&!(null==r?void 0:r.includes("/?id=")):p.push({server:"Cf Worker",link:r,type:"mkv"});break;case(null==r?void 0:r.includes("hubcloud"))||(null==r?void 0:r.includes("/?id=")):try{const e=yield fetch(r,{method:"HEAD",headers:n,signal:t,redirect:"manual"});let l=r;if(l=e.status>=300&&e.status<400?e.headers.get("location")||r:e.url&&e.url!==r?e.url:e.headers.get("location")||r,l.includes("googleusercontent"))l=l.split("?link=")[1];else{const e=yield fetch(l,{method:"HEAD",headers:n,signal:t,redirect:"manual"});l=e.status>=300&&e.status<400?(null==(i=e.headers.get("location"))?void 0:i.split("?link=")[1])||l:e.url&&e.url!==l?e.url.split("?link=")[1]||e.url:(null==(s=e.headers.get("location"))?void 0:s.split("?link=")[1])||l}p.push({server:"hubcloud",link:l,type:"mkv"})}catch(e){}break;case null==r?void 0:r.includes("cloudflarestorage"):p.push({server:"CfStorage",link:r,type:"mkv"});break;case(null==r?void 0:r.includes("fastdl"))||(null==r?void 0:r.includes("fsl.")):p.push({server:"FastDl",link:r,type:"mkv"});break;case r.includes("hubcdn")&&!r.includes("/?id="):p.push({server:"HubCdn",link:r,type:"mkv"});break;default:if((null==r?void 0:r.includes(".mkv"))||(null==r?void 0:r.includes("?token="))){const e=(null==(d=null==(c=r.match(/^(?:https?:\/\/)?(?:www\.)?([^\/]+)/i))?void 0:c[1])?void 0:d.replace(/\./g," "))||"Unknown";p.push({server:e,link:r,type:"mkv"})}}}return p}catch(e){return[]}})}__name(hubcloudExtractor,"hubcloudExtractor");var headers={Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","Cache-Control":"no-store","Accept-Language":"en-US,en;q=0.9",DNT:"1","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"};function getStream(e){return __async(this,arguments,function*({link:e,type:t,signal:r,providerContext:l}){const{axios:n,cheerio:o,commonHeaders:a}=l;try{const t=[],l=yield n.get(e,{headers:headers}),i=o.load(l.data);i("a[href*='pixeldrain.dev/api/file/']").each((e,r)=>{var l;const n=null==(l=i(r).attr("href"))?void 0:l.trim();n&&t.push({server:"pixeldrain",link:n,type:"mp4"})});const s=yield hubcloudExtractor(e,r,n,o,a);return t.push(...s),t}catch(e){return[]}})}__name(getStream,"getStream"),exports.getStream=getStream;