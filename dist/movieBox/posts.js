"use strict";var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__name=(e,t)=>__defProp(e,"name",{value:t,configurable:!0}),__export=(e,t)=>{for(var o in t)__defProp(e,o,{get:t[o],enumerable:!0})},__copyProps=(e,t,o,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of __getOwnPropNames(t))__hasOwnProp.call(e,s)||s===o||__defProp(e,s,{get:()=>t[s],enumerable:!(r=__getOwnPropDesc(t,s))||r.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__async=(e,t,o)=>new Promise((r,s)=>{var n=e=>{try{l(o.next(e))}catch(e){s(e)}},i=e=>{try{l(o.throw(e))}catch(e){s(e)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,i);l((o=o.apply(e,t)).next())}),posts_exports={};__export(posts_exports,{getPosts:()=>getPosts,getSearchPosts:()=>getSearchPosts});var getPosts=__name(function(e){return __async(this,arguments,function*({filter:e,page:t,signal:o,providerContext:r}){var s,n,i,l;const a=[],{getBaseUrl:d}=r;if(t>1)return a;const c=yield d("movieBox"),p=`${c}/wefeed-mobile-bff/tab-operating?page=3&tabId=0&version=2fe0d7c224603ff7b0df294b46d3b84b`,u=yield fetch("https://dob-worker.8man.workers.dev",{signal:o,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:p,method:"GET"})}),_=yield u.json(),f=null==(i=null==(n=null==(s=null==_?void 0:_.data)?void 0:s.items)?void 0:n[parseInt(e)])?void 0:i.subjects;for(const e of f){const t={image:null==e?void 0:e.cover.url,title:null==(l=null==e?void 0:e.title)?void 0:l.replace(/\s*\[.*?\]\s*$/,""),link:`${c}/wefeed-mobile-bff/subject-api/get?subjectId=${null==e?void 0:e.subjectId}`};a.push(t)}return a})},"getPosts"),getSearchPosts=__name(function(e){return __async(this,arguments,function*({searchQuery:e,page:t,signal:o,providerContext:r}){var s,n,i;const{getBaseUrl:l,axios:a,cheerio:d}=r,c=yield l("movieBox"),p=`${c}/wefeed-mobile-bff/subject-api/search/v2`;if(t>1)return[];const u=yield fetch("https://dob-worker.8man.workers.dev",{signal:o,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:p,method:"POST",body:{page:1,perPage:20,keyword:e,tabId:"Movie"}})}),_=yield u.json();return((null==(i=null==(n=null==(s=null==_?void 0:_.data)?void 0:s.results)?void 0:n[0])?void 0:i.subjects)||[]).map(e=>{var t;return{image:null==(t=null==e?void 0:e.cover)?void 0:t.url,title:null==e?void 0:e.title,link:`${c}/wefeed-mobile-bff/subject-api/get?subjectId=${null==e?void 0:e.subjectId}`}})})},"getSearchPosts");exports.getPosts=getPosts,exports.getSearchPosts=getSearchPosts;