"use strict";var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__name=(e,t)=>__defProp(e,"name",{value:t,configurable:!0}),__export=(e,t)=>{for(var r in t)__defProp(e,r,{get:t[r],enumerable:!0})},__copyProps=(e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of __getOwnPropNames(t))__hasOwnProp.call(e,n)||n===r||__defProp(e,n,{get:()=>t[n],enumerable:!(o=__getOwnPropDesc(t,n))||o.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__async=(e,t,r)=>new Promise((o,n)=>{var l=e=>{try{a(r.next(e))}catch(e){n(e)}},s=e=>{try{a(r.throw(e))}catch(e){n(e)}},a=e=>e.done?o(e.value):Promise.resolve(e.value).then(l,s);a((r=r.apply(e,t)).next())}),stream_exports={};__export(stream_exports,{getStream:()=>getStream});var getStream=__name(function(e){return __async(this,arguments,function*({link:e,providerContext:t}){var r;try{const{getBaseUrl:o}=t,n=e.split("*")[0],l=e.split("*")[1],s=yield o("consumet"),a=`${s}/movies/flixhq/servers?episodeId=${n}&mediaId=${l}`,i=yield fetch(a),_=yield i.json(),u=[];for(const e of _){const t=`${s}/movies/flixhq/watch?server=`+e.name+"&episodeId="+n+"&mediaId="+l,o=yield fetch(t),a=yield o.json(),i=[];(null==(r=null==a?void 0:a.sources)?void 0:r.length)>0&&(a.subtitles&&a.subtitles.forEach(e=>{var t;i.push({language:null==(t=null==e?void 0:e.lang)?void 0:t.slice(0,2),uri:null==e?void 0:e.url,type:"text/vtt",title:null==e?void 0:e.lang})}),a.sources.forEach(t=>{var r;u.push({server:(null==e?void 0:e.name)+"-"+(null==(r=null==t?void 0:t.quality)?void 0:r.replace("auto","MultiQuality")),link:t.url,type:t.isM3U8?"m3u8":"mp4",subtitles:i})}))}return u}catch(e){return[]}})},"getStream");exports.getStream=getStream;