"use strict";var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__name=(e,t)=>__defProp(e,"name",{value:t,configurable:!0}),__export=(e,t)=>{for(var o in t)__defProp(e,o,{get:t[o],enumerable:!0})},__copyProps=(e,t,o,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of __getOwnPropNames(t))__hasOwnProp.call(e,n)||n===o||__defProp(e,n,{get:()=>t[n],enumerable:!(s=__getOwnPropDesc(t,n))||s.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__async=(e,t,o)=>new Promise((s,n)=>{var r=e=>{try{i(o.next(e))}catch(e){n(e)}},a=e=>{try{i(o.throw(e))}catch(e){n(e)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,a);i((o=o.apply(e,t)).next())}),posts_exports={};__export(posts_exports,{getPosts:()=>getPosts,getSearchPosts:()=>getSearchPosts});var getPosts=__name(function(e){return __async(this,arguments,function*({filter:e,signal:t,providerContext:o}){try{const s=[],n="https://cinemeta-catalogs.strem.io"+e,r=(yield o.axios.get(n,{headers:o.commonHeaders,signal:t})).data;return null==r||r.metas.map(e=>{const t=null==e?void 0:e.name,o=(null==e?void 0:e.imdb_id)||(null==e?void 0:e.id),n=null==e?void 0:e.type,r=null==e?void 0:e.poster;o&&s.push({title:t,link:`https://v3-cinemeta.strem.io/meta/${n}/${o}.json`,image:r})}),s}catch(e){return[]}})},"getPosts"),getSearchPosts=__name(function(e){return __async(this,arguments,function*({searchQuery:e,page:t,signal:o,providerContext:s}){try{if(t>1)return[];const n=[],r=`https://v3-cinemeta.strem.io/catalog/series/top/search=${encodeURI(e)}.json`,a=`https://v3-cinemeta.strem.io/catalog/movie/top/search=${encodeURI(e)}.json`,i=(yield s.axios.get(r,{headers:s.commonHeaders,signal:o})).data;null==i||i.metas.map(e=>{const t=e.name||"",o=(null==e?void 0:e.imdb_id)||(null==e?void 0:e.id),s=null==e?void 0:e.poster,r=null==e?void 0:e.type;o&&n.push({title:t,link:`https://v3-cinemeta.strem.io/meta/${r}/${o}.json`,image:s})});const l=(yield s.axios.get(a,{headers:s.commonHeaders,signal:o})).data;return null==l||l.metas.map(e=>{const t=(null==e?void 0:e.name)||"",o=(null==e?void 0:e.imdb_id)||(null==e?void 0:e.id),s=null==e?void 0:e.poster,r=null==e?void 0:e.type;o&&n.push({title:t,link:`https://v3-cinemeta.strem.io/meta/${r}/${o}.json`,image:s})}),n}catch(e){return[]}})},"getSearchPosts");exports.getPosts=getPosts,exports.getSearchPosts=getSearchPosts;