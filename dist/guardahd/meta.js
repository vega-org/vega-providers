"use strict";var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,o,t)=>o in e?__defProp(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,__spreadValues=(e,o)=>{for(var t in o||(o={}))__hasOwnProp.call(o,t)&&__defNormalProp(e,t,o[t]);if(__getOwnPropSymbols)for(var t of __getOwnPropSymbols(o))__propIsEnum.call(o,t)&&__defNormalProp(e,t,o[t]);return e},__spreadProps=(e,o)=>__defProps(e,__getOwnPropDescs(o)),__name=(e,o)=>__defProp(e,"name",{value:o,configurable:!0}),__export=(e,o)=>{for(var t in o)__defProp(e,t,{get:o[t],enumerable:!0})},__copyProps=(e,o,t,r)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of __getOwnPropNames(o))__hasOwnProp.call(e,l)||l===t||__defProp(e,l,{get:()=>o[l],enumerable:!(r=__getOwnPropDesc(o,l))||r.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__async=(e,o,t)=>new Promise((r,l)=>{var n=e=>{try{s(t.next(e))}catch(e){l(e)}},i=e=>{try{s(t.throw(e))}catch(e){l(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,i);s((t=t.apply(e,o)).next())}),meta_exports={};__export(meta_exports,{getMeta:()=>getMeta});var getMeta=__name(function(e){return __async(this,arguments,function*({link:e,providerContext:o}){var t,r,l,n,i,s,a,_,p;const d=o.axios;try{const o=(yield d.get(e)).data,u={title:(null==(t=null==o?void 0:o.meta)?void 0:t.name)||"",synopsis:(null==(r=null==o?void 0:o.meta)?void 0:r.description)||"",image:(null==(l=null==o?void 0:o.meta)?void 0:l.background)||"",imdbId:(null==(n=null==o?void 0:o.meta)?void 0:n.imdb_id)||"",type:(null==(i=null==o?void 0:o.meta)?void 0:i.type)||"movie"},m=[];let v=[],c=new Map;if("series"===u.type){null==(a=null==(s=null==o?void 0:o.meta)?void 0:s.videos)||a.map(e=>{var t,r,l;(null==e?void 0:e.season)<=0||(c.has(null==e?void 0:e.season)||c.set(null==e?void 0:e.season,[]),c.get(null==e?void 0:e.season).push({title:"Episode "+(null==e?void 0:e.episode),type:"series",link:`${null==(t=null==o?void 0:o.meta)?void 0:t.imdb_id}-${null==(r=null==e?void 0:e.id)?void 0:r.split(":")[1]}-${null==(l=null==e?void 0:e.id)?void 0:l.split(":")[2]}`}))});const e=Array.from(c.keys());e.sort(),e.map(e=>{v=c.get(e),m.push({title:`Season ${e}`,directLinks:v})})}else m.push({title:null==(_=null==o?void 0:o.meta)?void 0:_.name,directLinks:[{title:"Movie",type:"movie",link:`${null==(p=null==o?void 0:o.meta)?void 0:p.imdb_id}-`}]});return __spreadProps(__spreadValues({},u),{linkList:m})}catch(e){return{title:"",synopsis:"",image:"",imdbId:"",type:"movie",linkList:[]}}})},"getMeta");exports.getMeta=getMeta;